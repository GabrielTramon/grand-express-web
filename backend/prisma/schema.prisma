generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  ADMIN
  DELIVERY_MAN
  CLIENT
}

model Users {
  id            String    @id @default(uuid())
  name          String
  email         String    @unique
  password      String
  phone         String    @unique
  role          Role
  companyId     String?
  nationalId    String    @unique
  lastLoginDate DateTime?
  isDeleted     Boolean   @default(false)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime? @updatedAt
  deletedAt     DateTime?

  createdById String?
  updatedById String?
  deletedById String?

  createdBy Users? @relation("CreatedUsers", fields: [createdById], references: [id])
  updatedBy Users? @relation("UpdatedUsers", fields: [updatedById], references: [id])
  deletedBy Users? @relation("DeletedUsers", fields: [deletedById], references: [id])

  createdUsers Users[] @relation("CreatedUsers")
  updatedUsers Users[] @relation("UpdatedUsers")
  deletedUsers Users[] @relation("DeletedUsers")
}
